# üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤

## –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. ‚úÖ –ú–µ–Ω—é –∞–∫–∫–∞—É–Ω—Ç–∞ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∏–≥—Ä—ã (Play.tsx) –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ProfileMenu, –ø–æ—ç—Ç–æ–º—É –Ω–µ–ª—å–∑—è –±—ã–ª–æ –∑–∞–π—Ç–∏ –≤ –º–µ–Ω—é –∞–∫–∫–∞—É–Ω—Ç–∞.

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `ProfileMenu` –≤ Play.tsx
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–ø—Å—ã `onNavigateToAccount` –∏ `onLogout` –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å PlayProps
- –ö–Ω–æ–ø–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ `ProfileMenu` –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ –¥–ª—è ProfileMenu –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –∏–≥—Ä—ã (–±–µ–ª—ã–µ –∏–∫–æ–Ω–∫–∏ –Ω–∞ —Ñ–∏–æ–ª–µ—Ç–æ–≤–æ–º —Ñ–æ–Ω–µ)

**–§–∞–π–ª—ã:**
- `client/src/pages/Play.tsx`
- `client/src/pages/Play.css`
- `client/src/pages/App.tsx`

---

### 2. ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–ø–∞–ª–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏.

**–†–µ—à–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞–Ω –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:
  - **Email:** `admin@admin.com`
  - **–ü–∞—Ä–æ–ª—å:** `admin`
- –î–æ–±–∞–≤–ª–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç bcrypt –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞
- –î–æ–±–∞–≤–ª–µ–Ω —Ä–æ—É—Ç–∏–Ω–≥ –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∞–¥–º–∏–Ω–∞ —á–µ—Ä–µ–∑ —É—Å–ª–æ–≤–∏–µ `user?.email === 'admin'`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å" –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è admin
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è `onNavigateToAdmin` –≤ HomePage

**–§–∞–π–ª—ã:**
- `server/src/db.js` - —Å–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∞
- `client/src/pages/App.tsx` - –ø—Ä–æ–≤–µ—Ä–∫–∞ email –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω–∫–µ
- `client/src/pages/HomePage.tsx` - –∫–Ω–æ–ø–∫–∞ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
- `client/src/pages/HomePage.css` - —Å—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏

**–ö–∞–∫ –≤–æ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω–∫—É:**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏–ª–∏ –≤–æ–π–¥–∏—Ç–µ –∫–∞–∫ `admin@admin.com` / `admin`
2. –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ—è–≤–∏—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å"
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ—ë –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω–∫—É

---

### 3. ‚úÖ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∏–≥—Ä–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `{ location: {...}, floor: {...} }`, –Ω–æ –∫–æ–¥ –æ–∂–∏–¥–∞–ª –ø—Ä—è–º–æ–π –æ–±—ä–µ–∫—Ç location.

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `loadLocations()` –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–≤–µ—Ç–∞ API
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è `response.data.location`
- –î–æ–±–∞–≤–ª–µ–Ω console.log –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –ª–æ–∫–∞—Ü–∏–π
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø—É—Ç—å –∫ –¥–∞–Ω–Ω—ã–º: `response.data.location` –≤–º–µ—Å—Ç–æ `response.data`

**–§–∞–π–ª—ã:**
- `client/src/pages/Play.tsx`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```javascript
console.log('Location response:', response.data)
// –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –ø–æ–ª–µ–º location
```

---

### 4. ‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞ –∫–∞—Ä—Ç–µ —Å—ä–µ–∑–∂–∞—é—Ç

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–∞—Ä—Ç—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –Ω–µ –≤ —Ç–æ–º –º–µ—Å—Ç–µ, –≥–¥–µ –±—ã–ª –∫–ª–∏–∫.

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ù–µ —É—á–∏—Ç—ã–≤–∞–ª—Å—è —Å–∫—Ä–æ–ª–ª –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∫–∞—Ä—Ç—ã
- –ù–µ —É—á–∏—Ç—ã–≤–∞–ª—Å—è zoom –∫–∞—Ä—Ç—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ù–µ–≤–µ—Ä–Ω—ã–π —Ä–∞—Å—á–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å—á–µ—Ç–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç:
  1. –ü–æ–ª—É—á–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–ª–∏–∫–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
  2. –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
  3. –í—ã—á–∏—Å–ª—è–µ–º –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ (0-1)
  4. –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ò–∑–º–µ–Ω–µ–Ω–æ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã: `center center` –≤–º–µ—Å—Ç–æ `top left`
- –î–æ–±–∞–≤–ª–µ–Ω console.log –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- –ò–∑–º–µ–Ω–µ–Ω CSS –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞—Ä—Ç—ã

**–§–∞–π–ª—ã:**
- `client/src/pages/Play.tsx` - —Ñ—É–Ω–∫—Ü–∏—è `onMapClick`
- `client/src/pages/Play.css` - —Å—Ç–∏–ª–∏ `.play-map-inner` –∏ `.play-map`

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
```typescript
const containerRect = mapContainerRef.current.getBoundingClientRect()
const imgRect = mapRef.current.getBoundingClientRect()

// –ö–ª–∏–∫ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
const clickX = e.clientX - containerRect.left
const clickY = e.clientY - containerRect.top

// –ü–æ–ª–æ–∂–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
const imgX = imgRect.left - containerRect.left
const imgY = imgRect.top - containerRect.top

// –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (0-1)
const relativeX = (clickX - imgX) / imgRect.width
const relativeY = (clickY - imgY) / imgRect.height

// –§–∏–Ω–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
const x = Math.round(relativeX * currentFloor.width_px)
const y = Math.round(relativeY * currentFloor.height_px)
```

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
–î–æ–±–∞–≤–ª–µ–Ω—ã console.log –¥–ª—è:
- –ó–∞–≥—Ä—É–∑–∫–∏ –ª–æ–∫–∞—Ü–∏–π: `console.log('Location response:', response.data)`
- –ö–ª–∏–∫–∞ –Ω–∞ –∫–∞—Ä—Ç—É: `console.log('Click coordinates:', { clickX, clickY, relativeX, relativeY, x, y })`

### –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ö–∞—Ä—Ç–∞ —Ç–µ–ø–µ—Ä—å —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π transform-origin –¥–ª—è zoom
- Flexbox –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è –∫–∞—Ä—Ç—ã

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

1. **–ú–µ–Ω—é –∞–∫–∫–∞—É–Ω—Ç–∞ –≤ –∏–≥—Ä–µ:**
   - –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
   - –ù–∞—á–Ω–∏—Ç–µ –∏–≥—Ä—É
   - –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∫–Ω–æ–ø–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –º–µ–Ω—é –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

2. **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å:**
   - –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ admin/admin
   - –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞ "–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å"
   - –ù–∞–∂–º–∏—Ç–µ –∏ —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∞–¥–º–∏–Ω–∫–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

3. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π:**
   - –ù–∞—á–Ω–∏—Ç–µ –∏–≥—Ä—É
   - –§–æ—Ç–æ –ª–æ–∫–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

4. **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞ –∫–∞—Ä—Ç–µ:**
   - –í—ã–±–µ—Ä–∏—Ç–µ —ç—Ç–∞–∂
   - –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç—É
   - –ü–∏–Ω –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —Ç–æ—á–Ω–æ —Ç–∞–º, –≥–¥–µ –≤—ã –∫–ª–∏–∫–Ω—É–ª–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏—á–Ω—ã–º–∏)

---

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

‚ö†Ô∏è **–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å admin/admin
- –ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞–≤–∞—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –ï—Å–ª–∏ –∞–¥–º–∏–Ω —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –æ–Ω –Ω–µ –±—É–¥–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è

‚ö†Ô∏è **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
- –û—Å—Ç–∞–≤–ª–µ–Ω—ã console.log –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∏—Ö –≤ production –≤–µ—Ä—Å–∏–∏

‚ö†Ô∏è **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
- –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω–∞, —É–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª `server/data/geoguesser.sqlite`
- –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞ –±–∞–∑–∞ –∏ –∞–¥–º–∏–Ω –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –∑–∞–Ω–æ–≤–æ

---

## Changelog

**2025-11-02:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω ProfileMenu –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–≥—Ä—ã
- ‚úÖ –°–æ–∑–¥–∞–Ω –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –∞–¥–º–∏–Ω (admin/admin)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ä–∞—Å—á–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –Ω–∞ –∫–∞—Ä—Ç–µ
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∫ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
- ‚úÖ –£–ª—É—á—à–µ–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã

