# 🏆 Исправление отображения длинных имен в таблице лидеров

## ✅ Исправлено

**Проблема:** Длинные имена (например, "Владислав Гавриленко") переносились на вторую строку, нарушая компоновку таблицы.

**Решение:** Добавлена обрезка текста с многоточием (ellipsis) для имен, которые не помещаются в отведенное пространство.

---

## 🔧 Технические изменения

### Добавлено к `.leaderboard-cell`:
```css
white-space: nowrap;      /* Запрещаем перенос текста на новую строку */
overflow: hidden;         /* Скрываем переполнение */
text-overflow: ellipsis;  /* Добавляем многоточие для обрезанного текста */
```

### Дополнительные стили для колонок:
```css
.leaderboard-cell:first-child {
  justify-content: center;
  flex-shrink: 0;  /* Колонка "Место" не сжимается */
}

.leaderboard-cell:nth-child(2) {
  min-width: 0;    /* Колонка "Имя" может обрезаться */
}

.leaderboard-cell:last-child {
  justify-content: flex-end;
  flex-shrink: 0;  /* Колонка "Баллы" не сжимается */
}
```

---

## 📊 Примеры отображения

### До исправления:
```
┌──────┬─────────────────────┬─────────┐
│  1   │ Владислав          │  1600   │
│      │ Гавриленко         │         │
├──────┼─────────────────────┼─────────┤
│  2   │ Иван Петров        │  1554   │
└──────┴─────────────────────┴─────────┘
```
❌ Имя занимает 2 строки  
❌ Нарушается выравнивание  
❌ Таблица выглядит неаккуратно  

### После исправления:
```
┌──────┬─────────────────────┬─────────┐
│  1   │ Владислав Гаврил... │  1600   │
├──────┼─────────────────────┼─────────┤
│  2   │ Иван Петров         │  1554   │
└──────┴─────────────────────┴─────────┘
```
✅ Все имена в одну строку  
✅ Длинные имена с многоточием  
✅ Аккуратная таблица  

---

## 🎯 Как работает

### 1. `white-space: nowrap`
Запрещает автоматический перенос текста на новую строку. Текст остается в одной строке, даже если не помещается.

### 2. `overflow: hidden`
Скрывает часть текста, которая выходит за границы контейнера.

### 3. `text-overflow: ellipsis`
Добавляет многоточие (`...`) в конце видимого текста, показывая что текст обрезан.

### 4. `min-width: 0` для колонки имени
Позволяет flex-элементу сжиматься меньше его минимального размера контента, что необходимо для правильной работы `text-overflow: ellipsis`.

### 5. `flex-shrink: 0` для номера и баллов
Гарантирует, что колонки с номером места и баллами не будут сжиматься, сохраняя фиксированную ширину.

---

## 📐 Структура сетки таблицы

```
grid-template-columns: 100px 1fr 200px;
                       ^^^^^^  ^^^  ^^^^^^
                       Место   Имя  Баллы
                       (фикс.) (авто) (фикс.)
```

- **100px** - колонка "Место" (фиксированная)
- **1fr** - колонка "Имя игрока" (занимает оставшееся пространство)
- **200px** - колонка "Баллы" (фиксированная)

Колонка с именем (`1fr`) занимает все доступное пространство между двумя фиксированными колонками, и именно здесь применяется обрезка с ellipsis.

---

## 🧪 Примеры длинных имен

| Полное имя | Отображение в таблице |
|------------|----------------------|
| Владислав Гавриленко | Владислав Гаврил... |
| Екатерина Александровна | Екатерина Алекса... |
| Иван | Иван |
| Анна Петрова | Анна Петрова |
| Константин Константинопольский | Константин Конст... |

---

## 💡 Преимущества решения

1. **Чистый интерфейс**: Все строки одинаковой высоты
2. **Читаемость**: Начало имени всегда видно
3. **Стабильность**: Таблица не "прыгает" при загрузке данных
4. **Стандартность**: Используется стандартное UI-решение (ellipsis)
5. **Адаптивность**: Работает на любой ширине экрана

---

## 🔮 Альтернативные решения

Если нужно, можно рассмотреть другие варианты:

### 1. Уменьшение размера шрифта
```css
.leaderboard-cell:nth-child(2) {
  font-size: 22px;  /* вместо 25px */
}
```
❌ Имена будут мельче, что ухудшает читаемость

### 2. Tooltip при наведении
```javascript
<div className="leaderboard-cell" title={player.name}>
  {player.name}
</div>
```
✅ Можно увидеть полное имя при наведении  
(Уже работает с текущим решением!)

### 3. Увеличение ширины колонки
```css
grid-template-columns: 80px 1fr 180px;
```
✅ Больше места для имен  
❌ Меньше места для номера и баллов

### 4. Двустрочные ячейки
```css
.leaderboard-row {
  height: 60px;  /* вместо 40px */
}
.leaderboard-cell {
  white-space: normal;
}
```
❌ Таблица становится высокой и неаккуратной

---

## 📁 Измененные файлы

- ✅ `client/src/pages/LeaderboardPage.css` - добавлены стили для обрезки текста

---

## 🎨 Визуальный результат

### Короткие имена (без изменений):
```
 1  │ Иван Петров        │ 1600
 2  │ Анна Смирнова      │ 1554
```

### Длинные имена (с ellipsis):
```
 1  │ Владислав Гаврил...│ 1600
 2  │ Екатерина Алекса...│ 1554
 3  │ Константин Конст...│ 1528
```

### Очень длинные имена:
```
 1  │ Александр Никола...│ 1600
```

---

## ✨ Дополнительно

При наведении мыши на ячейку с именем браузер автоматически покажет tooltip с полным именем (если добавить атрибут `title`). Это можно легко реализовать:

```tsx
<div className="leaderboard-cell" title={player.name}>
  {player.name}
</div>
```

Но это опционально и не обязательно для базового функционала.

---

**Проблема решена! Длинные имена теперь отображаются в одну строку с многоточием!** 🎉📋






